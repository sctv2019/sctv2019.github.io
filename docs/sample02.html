<!DOCTYPE html>
<html>
    <head>
        <script>
            var songList={};
            console.log("b001 :", songList);

            songList.a_1= "https://raw.githubusercontent.com/sctv2019/laohei2019/main/docs/mp3/20190828_9go58oolh0o.8000.16000.mp3";
            songList.a_2= "https://raw.githubusercontent.com/sctv2019/laohei2019/main/docs/mp3/20190819_pw5squyd_jo.8000.16000.mp3";
            songList.a_3= "https://raw.githubusercontent.com/sctv2019/laohei2019/main/docs/mp3/20191113_obrksitispc.8000.16000.mp3";
            songList.a_4= "https://raw.githubusercontent.com/sctv2019/laohei2019/main/docs/mp3/20190519_bkgnzivgdia.8000.16000.mp3";

            var len=Object.keys(songList).length;
            console.log("b003 : songList length : ", len);

            function randomChoice(choices) {
                            var rand = Math.random() ;
                            console.log("b101 : rand : ", rand);

                            var index = Math.floor( rand * len);
                            console.log("b103 : index : ", index);

                            var result = choices['a_' + index];
                            console.log("b109 : result : ", result);

                            return result ;
                        }

            function playAudio() {
                            try{
                                            console.log("b201 :", "try_pauseing then start next 1 ");
                                            x.pause();
                                            console.log("b201 :", "try_pauseing then start next 2 ");
                                        }
                            catch(err){
                                        }
                            finally{
                                            t = randomChoice(songList);
                                            const pp1 = document.getElementById("p1");
                                            pp1.innerHTML = t ;
                                            console.log("b401 : try play", t );

                                            let ff1 = t.lastIndexOf("/") + 1;
                                            let sub1 = t.substr(ff1);
                                            let ff2 = sub1.indexOf(".") ;
                                            let sub2 = sub1.substr(0,ff2);
                                            const pp2 = document.getElementById("p2");
                                            pp2.innerHTML = sub2 ;

                                            console.log("b401 : try play", t );
                                            x = new Audio(t);
                                            x.play();
                                        }
                        };
            function pauseAudio() {
                            console.log("b801 :", "stop only ");
                            x.pause();
                        }
        </script>

    </head>
    <body>
        <button style="font-size: 150px; background-color: #4CAF50; border-radius: 25%; " onclick="playAudio()" > 播放 </button></h1>
    <button style="font-size: 150px; background-color: #f44336; border-radius: 25%; " onclick="pauseAudio()"> 暫停 </button>
    <p id="p1">Hello World!</p>
    <h1 style="font-size:3vw" id="p2" > Hello World2 </h1>
    </body>
</html

